<!DOCTYPE html>
<html>
<head>
  <title></title>
</head>
<body>
  <script src="js/pubsub.js"></script>
  <script>
    var p = new Pubsub();
    p.on('foo', function (bar) {
      console.log('got1', arguments);
    });
    // try to add the same anonymous function twice
    p.on('foo', function (bar) {
      console.log('got1', arguments);
    });
    p.on('foo', function (bar) {
      console.log('got2', arguments);
    });

    p.trigger('foo', {name: 'baz'});

    // remove the first anonymous function
    p.off('foo', function (bar) {
      console.log('got1', arguments);
    });
    p.trigger('foo', {name: 'baz'});
  </script>
</body>
</html>